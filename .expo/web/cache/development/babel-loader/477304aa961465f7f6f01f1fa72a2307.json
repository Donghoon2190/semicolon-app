{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\FinalProject\\\\semicolon-app\\\\screens\\\\tabs\\\\Home.js\";\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteralLoose([\"\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  {\\n    seeFeed {\\n      id\\n      location\\n      caption\\n      user {\\n        id\\n        avatar\\n        username\\n      }\\n      files {\\n        id\\n        url\\n      }\\n      likeCount\\n      isLiked\\n      comments {\\n        id\\n        text\\n        user {\\n          id\\n          username\\n        }\\n      }\\n      createdAt\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from \"react\";\nimport styled from 'styled-components/native';\nimport Loader from \"../../components/Loader\";\nimport { gql } from \"apollo-boost\";\nimport { useQuery } from \"react-apollo-hooks\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Post from \"../../components/Post\";\nvar FEED_QUERY = gql(_templateObject());\nvar Text = styled.Text(_templateObject2());\nexport default (function () {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      refreshing = _useState2[0],\n      setRefreshing = _useState2[1];\n\n  var _useQuery = useQuery(FEED_QUERY),\n      loading = _useQuery.loading,\n      data = _useQuery.data,\n      refetch = _useQuery.refetch;\n\n  var refresh = function refresh() {\n    return _regeneratorRuntime.async(function refresh$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            setRefreshing(true);\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(refetch());\n\n          case 4:\n            _context.next = 9;\n            break;\n\n          case 6:\n            _context.prev = 6;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n\n          case 9:\n            _context.prev = 9;\n            setRefreshing(false);\n            return _context.finish(9);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 6, 9, 12]], Promise);\n  };\n\n  return React.createElement(ScrollView, {\n    refreshControl: React.createElement(RefreshControl, {\n      refreshing: refreshing,\n      onRefresh: refresh,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 39\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, loading ? React.createElement(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }) : data && data.seeFeed && data.seeFeed.map(function (post) {\n    return React.createElement(Post, _extends({\n      key: post.id\n    }, post, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 81\n      }\n    }));\n  }));\n});","map":{"version":3,"sources":["D:/FinalProject/semicolon-app/screens/tabs/Home.js"],"names":["React","useState","styled","Loader","gql","useQuery","Post","FEED_QUERY","Text","refreshing","setRefreshing","loading","data","refetch","refresh","console","log","seeFeed","map","post","id"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,MAAP;AACA,SAASC,GAAT,QAAoB,cAApB;AACA,SAASC,QAAT,QAAyB,oBAAzB;;;AAEA,OAAOC,IAAP;AAIA,IAAMC,UAAU,GAAGH,GAAH,mBAAhB;AA6BA,IAAMI,IAAI,GAAGN,MAAM,CAACM,IAAV,oBAAV;AAGA,gBAAe,YAAM;AAAA,kBACiBP,QAAQ,CAAC,KAAD,CADzB;AAAA;AAAA,MACZQ,UADY;AAAA,MACAC,aADA;;AAAA,kBAEgBL,QAAQ,CAACE,UAAD,CAFxB;AAAA,MAEXI,OAFW,aAEXA,OAFW;AAAA,MAEFC,IAFE,aAEFA,IAFE;AAAA,MAEIC,OAFJ,aAEIA,OAFJ;;AAGnB,MAAMC,OAAO,GAAG,SAAVA,OAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAEZJ,YAAAA,aAAa,CAAC,IAAD,CAAb;AAFY;AAAA,6CAGNG,OAAO,EAHD;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAKZE,YAAAA,OAAO,CAACC,GAAR;;AALY;AAAA;AAOZN,YAAAA,aAAa,CAAC,KAAD,CAAb;AAPY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAhB;;AAUA,SAAQ,oBAAC,UAAD;AAAY,IAAA,cAAc,EAAE,oBAAC,cAAD;AAAgB,MAAA,UAAU,EAAED,UAA5B;AAAwC,MAAA,SAAS,EAAEK,OAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACLH,OAAO,GAAI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAJ,GAAmBC,IAAI,IAAIA,IAAI,CAACK,OAAb,IAAwBL,IAAI,CAACK,OAAL,CAAaC,GAAb,CAAiB,UAAAC,IAAI;AAAA,WAAI,oBAAC,IAAD;AAAM,MAAA,GAAG,EAAEA,IAAI,CAACC;AAAhB,OAAwBD,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;AAAA,GAArB,CAD7C,CAAR;AAKD,CAlBD","sourcesContent":["import React, { useState } from \"react\";\r\nimport styled from 'styled-components/native';\r\nimport Loader from \"../../components/Loader\";\r\nimport { gql } from \"apollo-boost\";\r\nimport { useQuery } from \"react-apollo-hooks\";\r\nimport { RefreshControl, ScrollView } from \"react-native\";\r\nimport Post from \"../../components/Post\";\r\n\r\n\r\n\r\nconst FEED_QUERY = gql`\r\n  {\r\n    seeFeed {\r\n      id\r\n      location\r\n      caption\r\n      user {\r\n        id\r\n        avatar\r\n        username\r\n      }\r\n      files {\r\n        id\r\n        url\r\n      }\r\n      likeCount\r\n      isLiked\r\n      comments {\r\n        id\r\n        text\r\n        user {\r\n          id\r\n          username\r\n        }\r\n      }\r\n      createdAt\r\n    }\r\n  }\r\n`;\r\nconst Text = styled.Text`\r\n`;\r\n\r\nexport default () => {\r\n  const [refreshing, setRefreshing] = useState(false);\r\n  const { loading, data, refetch } = useQuery(FEED_QUERY);\r\n  const refresh = async () => {\r\n    try {\r\n      setRefreshing(true);\r\n      await refetch();\r\n    } catch (e) {\r\n      console.log(e);\r\n    } finally {\r\n      setRefreshing(false);\r\n    }\r\n  };\r\n  return (<ScrollView refreshControl={<RefreshControl refreshing={refreshing} onRefresh={refresh} />}>\r\n    {loading ? (<Loader />) : (data && data.seeFeed && data.seeFeed.map(post => <Post key={post.id} {...post} />)\r\n    )}\r\n  </ScrollView>\r\n  );\r\n};"]},"metadata":{},"sourceType":"module"}