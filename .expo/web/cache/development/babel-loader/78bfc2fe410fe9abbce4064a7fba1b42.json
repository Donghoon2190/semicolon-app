{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\FinalProject\\\\semicolon-app\\\\components\\\\Post.js\";\n\nfunction _templateObject12() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  opacity: 0.5;\\n  font-size: 13px;\\n\"]);\n\n  _templateObject12 = function _templateObject12() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject11() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  margin: 5px 0px;\\n\"]);\n\n  _templateObject11 = function _templateObject11() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject10() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  padding: 10px;\\n\"]);\n\n  _templateObject10 = function _templateObject10() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  margin-right: 10px;\\n\"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  flex-direction: row;\\n  margin-bottom: 5px;\\n    margin-top : -55px;\\n\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  font-size: 12px;\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  font-weight: 500;\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  margin-left: 10px;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteralLoose([\"\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  padding: 15px;\\n  flex-direction: row;\\n  align-items: center;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  margin-bottom: 40px;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  mutation toggelLike($postId: String!) {\\n    toggleLike(postId: $postId)\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from \"react\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport styled from \"styled-components\";\nimport { Ionicons, AntDesign } from \"@expo/vector-icons\";\nimport PropTypes from \"prop-types\";\nimport Swiper from \"react-native-swiper\";\nimport { gql } from \"apollo-boost\";\nimport constants from \"../constants\";\nimport styles from \"../styles\";\nimport { useMutation } from \"react-apollo-hooks\";\nimport { FontAwesome } from '@expo/vector-icons';\nexport var TOGGLE_LIKE = gql(_templateObject());\nvar Container = styled.View(_templateObject2());\nvar Header = styled.View(_templateObject3());\nvar Touchable = styled.TouchableOpacity(_templateObject4());\nvar HeaderUserContainer = styled.View(_templateObject5());\nvar Bold = styled.Text(_templateObject6());\nvar Location = styled.Text(_templateObject7());\nvar IconsContainer = styled.View(_templateObject8());\nvar IconContainer = styled.View(_templateObject9());\nvar InfoContainer = styled.View(_templateObject10());\nvar Caption = styled.Text(_templateObject11());\nvar CommentCount = styled.Text(_templateObject12());\n\nvar Post = function Post(_ref) {\n  var id = _ref.id,\n      user = _ref.user,\n      location = _ref.location,\n      _ref$files = _ref.files,\n      files = _ref$files === void 0 ? [] : _ref$files,\n      likeCountProp = _ref.likeCount,\n      caption = _ref.caption,\n      _ref$comments = _ref.comments,\n      comments = _ref$comments === void 0 ? [] : _ref$comments,\n      isLikedProp = _ref.isLiked;\n\n  var _useState = useState(isLikedProp),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLiked = _useState2[0],\n      setIsLiked = _useState2[1];\n\n  var _useState3 = useState(likeCountProp),\n      _useState4 = _slicedToArray(_useState3, 2),\n      likeCount = _useState4[0],\n      setLikeCount = _useState4[1];\n\n  var _useMutation = useMutation(TOGGLE_LIKE, {\n    variables: {\n      postId: id\n    }\n  }),\n      toggleLikeMutaton = _useMutation.toggleLikeMutaton;\n\n  var handleLike = function handleLike() {\n    return _regeneratorRuntime.async(function handleLike$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (isLiked === true) {\n              setLikeCount(function (l) {\n                return l - 1;\n              });\n            } else {\n              setLikeCount(function (l) {\n                return l + 1;\n              });\n            }\n\n            setIsLiked(function (p) {\n              return !p;\n            });\n            _context.prev = 2;\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(toggleLikeMutaton());\n\n          case 5:\n            _context.next = 9;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](2);\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[2, 7]], Promise);\n  };\n\n  return React.createElement(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, React.createElement(Header, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, React.createElement(Touchable, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, React.createElement(Image, {\n    style: {\n      height: 40,\n      width: 40,\n      borderRadius: 20\n    },\n    source: {\n      uri: user.avatar\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  })), React.createElement(Touchable, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, React.createElement(HeaderUserContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }, React.createElement(Bold, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 25\n    }\n  }, user.username), React.createElement(Location, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  }, location)))), React.createElement(Swiper, {\n    style: {\n      height: constants.height / 2.1\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, files.map(function (file) {\n    return React.createElement(Image, {\n      style: {\n        width: constants.width,\n        height: constants.height / 2.5\n      },\n      key: file.id,\n      source: {\n        uri: file.url\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }\n    });\n  })), React.createElement(InfoContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, React.createElement(IconsContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }, React.createElement(Touchable, {\n    onPress: handleLike,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }\n  }, React.createElement(IconContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 25\n    }\n  }, React.createElement(AntDesign, {\n    name: isLiked ? \"star\" : \"staro\",\n    color: isLiked ? styles.starColor : styles.blackColor,\n    size: 26,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 29\n    }\n  }))), React.createElement(Touchable, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }, React.createElement(IconContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 25\n    }\n  }, React.createElement(IconContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 29\n    }\n  }, React.createElement(FontAwesome, {\n    name: \"comment-o\",\n    size: 24,\n    color: styles.blackColor,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 33\n    }\n  }))))), React.createElement(Touchable, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 17\n    }\n  }, React.createElement(Bold, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 21\n    }\n  }, likeCount === 1 ? \"1 like\" : likeCount + \" likes\")), React.createElement(Caption, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }, React.createElement(Bold, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 21\n    }\n  }, user.username), \" \", caption), React.createElement(Touchable, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }, React.createElement(CommentCount, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 21\n    }\n  }, \"See all \", comments.length, \" comments\"))));\n};\n\nPost.propTypes = {\n  id: PropTypes.string.isRequired,\n  user: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    avatar: PropTypes.string,\n    username: PropTypes.string.isRequired\n  }).isRequired,\n  files: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    url: PropTypes.string.isRequired\n  })).isRequired,\n  likeCount: PropTypes.number.isRequired,\n  isLiked: PropTypes.bool.isRequired,\n  comments: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    text: PropTypes.string.isRequired,\n    user: PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      username: PropTypes.string.isRequired\n    }).isRequired\n  })).isRequired,\n  caption: PropTypes.string.isRequired,\n  location: PropTypes.string,\n  createdAt: PropTypes.string.isRequired\n};\nexport default Post;","map":{"version":3,"sources":["D:/FinalProject/semicolon-app/components/Post.js"],"names":["React","useState","styled","Ionicons","AntDesign","PropTypes","Swiper","gql","constants","styles","useMutation","FontAwesome","TOGGLE_LIKE","Container","View","Header","Touchable","TouchableOpacity","HeaderUserContainer","Bold","Text","Location","IconsContainer","IconContainer","InfoContainer","Caption","CommentCount","Post","id","user","location","files","likeCountProp","likeCount","caption","comments","isLikedProp","isLiked","setIsLiked","setLikeCount","variables","postId","toggleLikeMutaton","handleLike","l","p","height","width","borderRadius","uri","avatar","username","map","file","url","starColor","blackColor","length","propTypes","string","isRequired","shape","arrayOf","number","bool","text","createdAt"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Image, Platform } from \"react-native\";\r\nimport styled from \"styled-components\";\r\nimport { Ionicons, AntDesign } from \"@expo/vector-icons\";\r\nimport PropTypes from \"prop-types\";\r\nimport Swiper from \"react-native-swiper\";\r\nimport { gql } from \"apollo-boost\";\r\nimport constants from \"../constants\";\r\nimport styles from \"../styles\";\r\nimport { useMutation } from \"react-apollo-hooks\";\r\nimport { FontAwesome } from '@expo/vector-icons';\r\nexport const TOGGLE_LIKE = gql`\r\n  mutation toggelLike($postId: String!) {\r\n    toggleLike(postId: $postId)\r\n  }\r\n`;\r\n\r\nconst Container = styled.View`\r\n  margin-bottom: 40px;\r\n`;\r\nconst Header = styled.View`\r\n  padding: 15px;\r\n  flex-direction: row;\r\n  align-items: center;\r\n`;\r\nconst Touchable = styled.TouchableOpacity``;\r\nconst HeaderUserContainer = styled.View`\r\n  margin-left: 10px;\r\n`;\r\nconst Bold = styled.Text`\r\n  font-weight: 500;\r\n`;\r\nconst Location = styled.Text`\r\n  font-size: 12px;\r\n`;\r\nconst IconsContainer = styled.View`\r\n  flex-direction: row;\r\n  margin-bottom: 5px;\r\n    margin-top : -55px;\r\n`;\r\nconst IconContainer = styled.View`\r\n  margin-right: 10px;\r\n`;\r\nconst InfoContainer = styled.View`\r\n  padding: 10px;\r\n`;\r\nconst Caption = styled.Text`\r\n  margin: 5px 0px;\r\n`;\r\nconst CommentCount = styled.Text`\r\n  opacity: 0.5;\r\n  font-size: 13px;\r\n`;\r\n\r\nconst Post = ({\r\n    id,\r\n    user,\r\n    location,\r\n    files = [],\r\n    likeCount: likeCountProp,\r\n    caption,\r\n    comments = [],\r\n    isLiked: isLikedProp\r\n}) => {\r\n    const [isLiked, setIsLiked] = useState(isLikedProp);\r\n    const [likeCount, setLikeCount] = useState(likeCountProp);\r\n    const { toggleLikeMutaton } = useMutation(TOGGLE_LIKE, {\r\n        variables: {\r\n            postId: id\r\n        }\r\n    });\r\n    const handleLike = async () => {\r\n        if (isLiked === true) {\r\n            setLikeCount(l => l - 1);\r\n        } else {\r\n            setLikeCount(l => l + 1);\r\n        }\r\n        setIsLiked(p => !p);\r\n        try {\r\n            await toggleLikeMutaton();\r\n        } catch (e) { }\r\n    };\r\n    return (\r\n        <Container>\r\n            <Header>\r\n                <Touchable>\r\n                    <Image\r\n                        style={{ height: 40, width: 40, borderRadius: 20 }}\r\n                        source={{ uri: user.avatar }}\r\n                    />\r\n                </Touchable>\r\n                <Touchable>\r\n                    <HeaderUserContainer>\r\n                        <Bold>{user.username}</Bold>\r\n                        <Location>{location}</Location>\r\n                    </HeaderUserContainer>\r\n                </Touchable>\r\n            </Header>\r\n            <Swiper\r\n                style={{ height: constants.height / 2.1 }}\r\n            >\r\n                {files.map(file => (\r\n                    <Image\r\n                        style={{ width: constants.width, height: constants.height / 2.5 }}\r\n                        key={file.id}\r\n                        source={{ uri: file.url }}\r\n                    />\r\n                ))}\r\n            </Swiper>\r\n            <InfoContainer>\r\n                <IconsContainer>\r\n                    <Touchable onPress={handleLike}>\r\n                        <IconContainer>\r\n                            <AntDesign\r\n                                name={isLiked ? \"star\" : \"staro\"} color={isLiked ? styles.starColor : styles.blackColor} size={26} />\r\n                        </IconContainer>\r\n                    </Touchable>\r\n                    <Touchable>\r\n                        <IconContainer>\r\n                            <IconContainer>\r\n                                <FontAwesome name=\"comment-o\" size={24} color={styles.blackColor} />\r\n                            </IconContainer>\r\n                        </IconContainer>\r\n                    </Touchable>\r\n                </IconsContainer>\r\n                <Touchable>\r\n                    <Bold>{likeCount === 1 ? \"1 like\" : `${likeCount} likes`}</Bold>\r\n                </Touchable>\r\n                <Caption>\r\n                    <Bold>{user.username}</Bold> {caption}\r\n                </Caption>\r\n                <Touchable>\r\n                    <CommentCount>See all {comments.length} comments</CommentCount>\r\n                </Touchable>\r\n            </InfoContainer>\r\n        </Container>\r\n    );\r\n};\r\n\r\nPost.propTypes = {\r\n    id: PropTypes.string.isRequired,\r\n    user: PropTypes.shape({\r\n        id: PropTypes.string.isRequired,\r\n        avatar: PropTypes.string,\r\n        username: PropTypes.string.isRequired\r\n    }).isRequired,\r\n    files: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            id: PropTypes.string.isRequired,\r\n            url: PropTypes.string.isRequired\r\n        })\r\n    ).isRequired,\r\n    likeCount: PropTypes.number.isRequired,\r\n    isLiked: PropTypes.bool.isRequired,\r\n    comments: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            id: PropTypes.string.isRequired,\r\n            text: PropTypes.string.isRequired,\r\n            user: PropTypes.shape({\r\n                id: PropTypes.string.isRequired,\r\n                username: PropTypes.string.isRequired\r\n            }).isRequired\r\n        })\r\n    ).isRequired,\r\n    caption: PropTypes.string.isRequired,\r\n    location: PropTypes.string,\r\n    createdAt: PropTypes.string.isRequired\r\n};\r\n\r\nexport default Post;"]},"metadata":{},"sourceType":"module"}